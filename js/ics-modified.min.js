var ics=function(b,e){"use strict";if(!(-1<navigator.userAgent.indexOf("MSIE")&&-1==navigator.userAgent.indexOf("MSIE 10"))){void 0===b&&(b="default"),void 0===e&&(e="Calendar");var I=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",R=[],i=["BEGIN:VCALENDAR","PRODID:"+e,"VERSION:2.0"].join(I),o=I+"END:VCALENDAR",h=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return R},calendar:function(){return i+I+R.join(I)+o},addEvent:function(e,t,r,n,i,o,a){if(void 0===e||void 0===t||void 0===r||void 0===n||void 0===i)return!1;if(o&&!o.rrule){if("YEARLY"!==o.freq&&"MONTHLY"!==o.freq&&"WEEKLY"!==o.freq&&"DAILY"!==o.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(o.until&&isNaN(Date.parse(o.until)))throw"Recurrence rrule 'until' must be a valid date string";if(o.interval&&isNaN(parseInt(o.interval)))throw"Recurrence rrule 'interval' must be an integer";if(o.count&&isNaN(parseInt(o.count)))throw"Recurrence rrule 'count' must be an integer";if(void 0!==o.byday){if("[object Array]"!==Object.prototype.toString.call(o.byday))throw"Recurrence rrule 'byday' must be an array";if(7<o.byday.length)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";for(var l in o.byday=o.byday.filter(function(e,t){return o.byday.indexOf(e)==t}),o.byday)if(h.indexOf(o.byday[l])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var u=new Date(n),s=new Date(i),c=new Date,g=("0000"+u.getFullYear().toString()).slice(-4),d=("00"+(u.getMonth()+1).toString()).slice(-2),S=("00"+u.getDate().toString()).slice(-2),E=("00"+u.getHours().toString()).slice(-2),A=("00"+u.getMinutes().toString()).slice(-2),f=("00"+u.getSeconds().toString()).slice(-2),y=("0000"+s.getFullYear().toString()).slice(-4),T=("00"+(s.getMonth()+1).toString()).slice(-2),v=("00"+s.getDate().toString()).slice(-2),D=("00"+s.getHours().toString()).slice(-2),n=("00"+s.getMinutes().toString()).slice(-2),i=("00"+s.getSeconds().toString()).slice(-2),u="",s="";E+A+f+D+n+i!=0&&(u="T"+E+A+f,s="T"+D+n+i);var N,u=g+d+S+u,v=y+T+v+s,s=("0000"+c.getFullYear().toString()).slice(-4)+("00"+(c.getMonth()+1).toString()).slice(-2)+("00"+c.getDate().toString()).slice(-2)+("T"+("00"+c.getHours().toString()).slice(-2)+("00"+c.getMinutes().toString()).slice(-2)+("00"+c.getSeconds().toString()).slice(-2));o&&(o.rrule?N=o.rrule:(N="rrule:FREQ="+o.freq,o.until&&(N+=";UNTIL="+(c=new Date(Date.parse(o.until)).toISOString()).substring(0,c.length-13).replace(/[-]/g,"")+"000000Z"),o.interval&&(N+=";INTERVAL="+o.interval),o.count&&(N+=";COUNT="+o.count),o.byday&&0<o.byday.length&&(N+=";BYDAY="+o.byday.join(","))));(new Date).toISOString();r=["BEGIN:VEVENT","UID:"+R.length+"@"+b,"CLASS:PUBLIC","DESCRIPTION:"+t,"DTSTAMP;VALUE=DATE-TIME:"+s,"DTSTART;VALUE=DATE-TIME:"+u,"DTEND;VALUE=DATE-TIME:"+v,"LOCATION:"+r,"SUMMARY;LANGUAGE=en-us:"+e,"TRANSP:TRANSPARENT"];return void 0!==a&&""!==a.toString().trim()&&r.push("BEGIN:VALARM","TRIGGER:-PT"+Math.abs(a)+"M","ACTION:DISPLAY","DESCRIPTION:Reminder: "+e,"END:VALARM"),r.push("END:VEVENT"),N&&r.splice(4,0,N),r=r.join(I),R.push(r),r},download:function(e,t){if(R.length<1)return!1;t=void 0!==t?t:".ics",e=void 0!==e?e:"calendar";var r=i+I+R.join(I)+o,n=-1===navigator.userAgent.indexOf("MSIE 10")?new Blob([r]):((n=new BlobBuilder).append(r),n.getBlob("text/x-vCalendar;charset="+document.characterSet));return saveAs(n,e+t),r},build:function(){return!(R.length<1)&&i+I+R.join(I)+o}}}console.log("Unsupported Browser")};